(function(g){var window=this;'use strict';var I$=function(k){k.publish("cardstatechange",k.xf()&&k.QG()?1:0)},Hy=function(k,y){var q=g.dT(y),N=q?y:arguments;
for(q=q?0:1;q<N.length;q++){if(k==null)return;k=k[N[q]]}return k},OcF=function(k){var y=g.Bs(k);
k=g.MO(k);return new g.aI(y.x,y.y,k.width,k.height)},PCN=function(k,y,q){var N=N===void 0?{}:N;
var D;return D=g.Sl(k,y,function(){g.GI(D);q.apply(k,arguments)},N)},cy=function(k){k=g.hG(k);
delete KR[k];g.QR(KR)&&Ap&&Ap.stop()},CC$=function(){Ap||(Ap=new g.c3(function(){v$q()},20));
var k=Ap;k.isActive()||k.start()},v$q=function(){var k=g.Z7();
g.fd(KR,function(y){E$$(y,k)});
g.QR(KR)||CC$()},uF=function(k,y,q,N){g.Ov.call(this);
if(!Array.isArray(k)||!Array.isArray(y))throw Error("Start and end parameters must be arrays");if(k.length!=y.length)throw Error("Start and end points must be the same length");this.N=k;this.B=y;this.duration=q;this.j=N;this.coords=[];this.progress=this.Y=0;this.V=null},E$$=function(k,y){y<k.startTime&&(k.endTime=y+k.endTime-k.startTime,k.startTime=y);
k.progress=(y-k.startTime)/(k.endTime-k.startTime);k.progress>1&&(k.progress=1);k.Y=1E3/(y-k.V);k.V=y;bcw(k,k.progress);k.progress==1?(k.Z=0,cy(k),k.onFinish(),k.mp()):k.isPlaying()&&k.AG()},bcw=function(k,y){typeof k.j==="function"&&(y=k.j(y));
k.coords=Array(k.N.length);for(var q=0;q<k.N.length;q++)k.coords[q]=(k.B[q]-k.N[q])*y+k.N[q]},Vq$=function(k,y){g.gC.call(this,k);
this.coords=y.coords;this.x=y.coords[0];this.y=y.coords[1];this.z=y.coords[2];this.duration=y.duration;this.progress=y.progress;this.fps=y.Y;this.state=y.Z},a$=function(k,y,q,N,D){uF.call(this,y,q,N,D);
this.element=k},B2E=function(k,y,q,N,D){if(y.length!=2||q.length!=2)throw Error("Start and end points must be 2D");
a$.call(this,k,y,q,N,D)},UlL=function(k){return Math.pow(k,3)},QTq=function(k){return 3*k*k-2*k*k*k},Mq$=function(k){g.S.call(this);
this.N=k||window;this.Z=[]},xs=function(k){return k.baseUrl||null},jr=function(k,y){return g.$C(g.My(k,y),function(q){return!!q})},FFG=function(k,y,q){function N(Ku){var Z=Ku.hovercardButton;
if(!Z)return null;Z=Z.subscribeButtonRenderer;if(!Z)return null;var d=n(Z.unsubscribedButtonText),J=n(Z.subscribedButtonText);if(Z.subscribed){var X=n(Z.subscriberCountWithUnsubscribeText);var W=n(Z.subscriberCountText)}else X=n(Z.subscriberCountText),W=n(Z.subscriberCountWithSubscribeText);var s0=null;if(Ku.signinEndpoint){s0=Hy(Ku,"signinEndpoint","webNavigationEndpointData","url");if(!s0){var zF,Ae;s0=(Ae=g.L((zF=Z.signInEndpoint)==null?void 0:zF.commandMetadata,g.y3))==null?void 0:Ae.url}if(!s0)return null}return d&&
(J||s0)?{subscribed:Z.subscribed,subscribeText:d,subscribeCount:X,unsubscribeText:J,unsubscribeCount:W,enabled:Z.enabled,signinUrl:s0,classic:Ku.useClassicSubscribeButton}:null}
function D(Ku){if(Ku){var Z=[],d=Ku.videoId;d&&Z.push("v="+d);(d=Ku.playlistId)&&Z.push("list="+d);(Ku=Ku.startTimeSeconds)&&Z.push("t="+Ku);return"/watch?"+Z.join("&")}}
function n(Ku){if(!Ku)return null;var Z=Ku.simpleText;return Z?Z:Ku.runs?g.My(Ku.runs,function(d){return d.text}).join(""):null}
y=y.endscreenElementRenderer;if(!y)return null;var T=y.style,I=y.endpoint||{},H=null,K=null,A=!1,c=null,u=null,a=null,x=null,r=!1,f=null,P=null,C=null,V=null,Q=null,Y=null;if(T==="VIDEO")g.L(I,g.yS)?H=g.L(I,g.yS).url:(Y=g.L(I,g.a_),H=D(Y)),K=!1,c=k,y.thumbnailOverlays?(A=y.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,u=n(A.text),A=A.style==="LIVE"):u=n(y.videoDuration);else if(T==="PLAYLIST")g.L(I,g.yS)?H=g.L(I,g.yS).url:(Y=g.L(I,g.a_),H=D(Y)),K=!1,c=k,a=n(y.playlistLength);else if(T===
"CHANNEL"){if(r=Hy(I,"browseEndpoint","browseId"))x=r,H="/channel/"+x;K=!1;c="new";(r=!!y.isSubscribe)?f=N(y):P=n(y.subscribersText)}else T==="WEBSITE"?((C=Hy(I,"urlEndpoint","url"))&&(H=C),K=!0,c="new",C=y.icon.thumbnails[0].url):T==="CREATOR_MERCHANDISE"&&(y.productPrice&&(V=n(y.productPrice)),y.additionalFeesText&&(Q=n(y.additionalFeesText)),(K=Hy(I,"urlEndpoint","url"))&&(H=K),K=!0,c="new");k=Hy(y,"title","accessibility","accessibilityData","label");var l=y.endpoint?y.endpoint.clickTrackingParams:
null,h="";if(y.metadata){var qD=n(y.metadata);qD&&(h=qD)}return{id:"element-"+q,type:T,title:n(y.title),metadata:h,callToAction:n(y.callToAction),UQ:y.image,iconUrl:C,left:Number(y.left),width:Number(y.width),top:Number(y.top),aspectRatio:Number(y.aspectRatio),startMs:Math.floor(Number(y.startMs)),endMs:Math.floor(Number(y.endMs)),videoDuration:u,Ww:A,playlistLength:a,channelId:x,subscribeButton:f,subscribersText:P,isSubscribe:r,targetUrl:H||null,NFb:K,sessionData:l?{itct:l}:null,vgT:c,bC:k?k:null,
isPlaceholder:y.isPlaceholder,impressionUrls:jr(y.impressionUrls||[],xs),J1:jr(y.hovercardShowUrls||[],xs),clickUrls:jr(I.loggingUrls||[],xs),visualElement:g.GW(y.trackingParams),productPrice:V,additionalFeesText:Q,watchEndpoint:Y||null}},Ylb=function(k,y){var q={startMs:Math.floor(Number(k.startMs)),
impressionUrls:jr(k.impressionUrls||[],xs),elements:jr(k.elements||[],function(N,D){return FFG(y,N,D)})};
k.trackingParams&&(q.visualElement=g.GW(k.trackingParams));return q},Sl$=function(k){g.pi.call(this,k);
this.V=this.endscreen=null;this.Z={};this.Y={};this.j=this.C=null;this.J=[];this.N=null;this.sT=!0;this.B=0;k=k.S();this.U=g.o9(k)||g.R9(k);this.events=new g.to(this);g.G(this,this.events);this.events.T(this.player,g.ib("creatorendscreen"),this.onCueRangeEnter);this.events.T(this.player,g.fh("creatorendscreen"),this.onCueRangeExit);this.events.T(this.player,"resize",this.SH);this.events.T(window,"focus",this.qeD);this.load();var y=g.T3("STYLE");(g.sf("HEAD")[0]||document.body).appendChild(y);this.addOnDisposeCallback(function(){g.Au(y)});
y.sheet&&(y.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),y.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},G6N=function(k){return k.player.getVideoData().Up?"current":k.U?"new":"current"},Xt=function(k){return k.player.S().playerStyle==="creator-endscreen-editor"},LFG=function(k){var y=k.player.getVideoData(),q=y.videoId;
k.V&&k.V.abort();q={method:"POST",onFinish:function(D){var n=k.V=null;D.status===200&&(D=D.responseText,D.substring(0,3)===")]}"&&(D=D.substring(3),n=JSON.parse(D),n=Ylb(n,G6N(k))));$s(k,n)},
urlParams:{v:q},withCredentials:!0};k.U&&(q.urlParams.ptype="embedded");var N=y.Fp;N&&(q.postParams={ad_tracking:N});if(y=g.F6Z(y))if(y=g.G6(y),y=g.Ml(y))k.V=g.de(y,q)},$s=function(k,y,q){q=q===void 0?!0:q;
k.player.F7("creatorendscreen");k.C&&(k.C.dispose(),k.C=null,k.j.dispose(),k.j=null);for(var N=g.p(Object.values(k.Z)),D=N.next();!D.done;D=N.next())D.value.dispose();k.Z={};k.Y={};k.J.length>0&&(k.J.forEach(function(I){I.dispose()}),k.J.length=0);
k.B=0;if((k.endscreen=y)&&y.elements){q&&dlg(k);q=[];N=new g.rG(y.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});q.push(N);k.player.S().N||(k.C=new g.R({X:"div",D:"ytp-ce-shadow"}),g.pa(k.player,k.C.element,4),k.j=new g.zt(k.C,200));for(N=0;N<y.elements.length;++N){D=y.elements[N];var n=g$w(k,D);if(n){k.Z[D.id]=n;k.Y[D.id]=D;g.pa(k.player,n.element,4);var T=new g.rG(D.startMs,D.endMs,{id:"ytp-ce-element-"+D.id,namespace:"creatorendscreen"});q.push(T);o$B(k,n,D)}else g.JR(new g.HN("buildEndscreenElement null",
D))}k.player.ZW(q);k.SH()}},dlg=function(k){var y=g.dg(),q=g.gg();
q&&y&&k.endscreen.visualElement&&g.uW(g.Kr)(void 0,q,y,k.endscreen.visualElement)},g$w=function(k,y){var q=null;
switch(y.type){case "VIDEO":k={X:"div",jb:["ytp-ce-element","ytp-ce-video"],K:{tabindex:"0","aria-label":y.bC||"","aria-hidden":"true"},L:[{X:"div",D:"ytp-ce-element-shadow"},{X:"div",D:"ytp-ce-covering-image",K:z4(y)},{X:"div",D:"ytp-ce-covering-shadow-top"},{X:"a",D:"ytp-ce-covering-overlay",K:{href:pR(k,y.targetUrl),tabindex:"-1"},L:[{X:"div",jb:["ytp-ce-video-title","ytp-webkit-ellipsis"],K:{dir:g.be(y.title||"")},oO:y.title},{X:"div",D:y.Ww?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
oO:y.videoDuration||void 0}]}]};q=new g.R(k);break;case "PLAYLIST":k={X:"div",jb:["ytp-ce-element","ytp-ce-playlist"],K:{tabindex:"0","aria-label":y.bC||"","aria-hidden":"true"},L:[{X:"div",D:"ytp-ce-element-shadow"},{X:"div",D:"ytp-ce-covering-image",K:z4(y)},{X:"div",D:"ytp-ce-covering-shadow-top"},{X:"a",D:"ytp-ce-covering-overlay",K:{href:pR(k,y.targetUrl),tabindex:"-1"},L:[{X:"div",jb:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],K:{dir:g.be(y.title||"")},oO:y.title},{X:"div",D:"ytp-ce-playlist-count",
L:[{X:"div",D:"ytp-ce-playlist-icon"},{X:"div",D:"ytp-ce-playlist-count-text",oO:y.playlistLength||void 0}]}]}]};q=new g.R(k);break;case "CHANNEL":q={X:"div",jb:["ytp-ce-element","ytp-ce-channel",y.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],K:{tabindex:"0","aria-label":y.bC||"","aria-hidden":"true"},L:[{X:"div",D:"ytp-ce-element-shadow"},{X:"div",D:"ytp-ce-expanding-overlay",L:[{X:"div",D:"ytp-ce-expanding-overlay-hider"},{X:"div",D:"ytp-ce-expanding-overlay-background"},{X:"div",D:"ytp-ce-expanding-overlay-content",
L:[{X:"div",D:"ytp-ce-expanding-overlay-body",L:[{X:"div",D:"ytp-ce-expanding-overlay-body-padding",L:[{X:"a",jb:["ytp-ce-channel-title","ytp-ce-link"],K:{href:pR(k,y.targetUrl),target:"_blank",tabindex:"-1",dir:g.be(y.title||"")},oO:y.title},y.subscribeButton?{X:"div",D:"ytp-ce-subscribe-container",L:[{X:"div",D:"ytp-ce-channel-subscribe"}]}:"",y.subscribersText?{X:"div",D:"ytp-ce-channel-subscribers-text",oO:y.subscribersText}:"",y.metadata?{X:"div",jb:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],oO:y.metadata}:""]}]}]}]},{X:"div",D:"ytp-ce-expanding-image",K:z4(y)}]};q=new g.R(q);var N=g.tP(document,"div","ytp-ce-channel-subscribe",q.element)[0];if(y.subscribeButton&&y.channelId){g.pD(N,"ytp-ce-subscribe-button");if(k.player.S().N){var D=null;var n=y.sessionData.itct}else D="endscreen",n=null;D=new g.tD(y.subscribeButton.subscribeText,y.subscribeButton.subscribeCount,y.subscribeButton.unsubscribeText,y.subscribeButton.unsubscribeCount,!!y.subscribeButton.enabled,!!y.subscribeButton.classic,
y.channelId,!!y.subscribeButton.subscribed,D,n,k.player,!1);N.appendChild(D.element);k.J.push(D)}break;case "WEBSITE":k={X:"div",jb:["ytp-ce-element","ytp-ce-website"],K:{tabindex:"0","aria-label":y.bC||"","aria-hidden":"true"},L:[{X:"div",D:"ytp-ce-element-shadow"},{X:"div",D:"ytp-ce-expanding-overlay",L:[{X:"div",D:"ytp-ce-expanding-overlay-hider"},{X:"div",D:"ytp-ce-expanding-overlay-background"},{X:"div",D:"ytp-ce-expanding-overlay-content",L:[{X:"div",D:"ytp-ce-expanding-overlay-body",L:[{X:"div",
D:"ytp-ce-expanding-overlay-body-padding",L:[{X:"div",D:"ytp-ce-website-title",K:{dir:g.be(y.title||"")},oO:y.title},{X:"div",D:"ytp-ce-website-metadata",oO:y.metadata},{X:"a",jb:["ytp-ce-website-goto","ytp-ce-link"],K:{href:pR(k,y.targetUrl),target:"_blank",tabindex:"-1"},oO:y.callToAction}]}]}]}]},{X:"div",D:"ytp-ce-expanding-image",K:z4(y)},{X:"div",D:"ytp-ce-expanding-icon",K:hqq(y.iconUrl)}]};q=new g.R(k);break;case "CREATOR_MERCHANDISE":q="",y.productPrice&&(q={X:"div",D:"ytp-ce-merchandise-price-container",
L:[{X:"div",D:"ytp-ce-merchandise-price",oO:y.productPrice}]},y.additionalFeesText&&q.L.push({X:"div",D:"ytp-ce-merchandise-additional-fees",oO:y.additionalFeesText})),k={X:"div",jb:["ytp-ce-element","ytp-ce-merchandise"],K:{tabindex:"0","aria-label":y.bC||"","aria-hidden":"true"},L:[{X:"div",D:"ytp-ce-element-shadow"},{X:"div",D:"ytp-ce-expanding-overlay",L:[{X:"div",D:"ytp-ce-expanding-overlay-hider"},{X:"div",D:"ytp-ce-expanding-overlay-background"},{X:"div",D:"ytp-ce-expanding-overlay-content",
L:[{X:"div",D:"ytp-ce-expanding-overlay-body",L:[{X:"div",D:"ytp-ce-expanding-overlay-body-padding",L:[{X:"div",D:"ytp-ce-merchandise-title",K:{dir:g.be(y.title||"")},oO:y.title},q,{X:"div",D:"ytp-ce-merchandise-metadata",oO:y.metadata},{X:"a",jb:["ytp-ce-merchandise-goto","ytp-ce-link"],K:{href:pR(k,y.targetUrl),target:"_blank",tabindex:"-1"},oO:y.callToAction}]}]}]}]},{X:"div",D:"ytp-ce-expanding-image",K:z4(y)},{X:"div",D:"ytp-ce-merchandise-invideo-cta-container",L:[{X:"div",D:"ytp-ce-merchandise-invideo-cta",
oO:y.callToAction||void 0}]}]},q=new g.R(k)}y.isPlaceholder&&g.pD(q.element,"ytp-ce-placeholder");return q},z4=function(k){if(k.UQ)var y=k.UQ.thumbnails;
return hqq(y?y[y.length-1].url:null)},hqq=function(k){return k?{style:"background-image: url("+k+")"}:{}},o$B=function(k,y,q){function N(H){H&&(y.listen("blur",function(){H.style.display!="none"&&k.sT&&H.focus()}),y.T(H,"focus",n),y.T(H,"blur",T))}
function D(H){k.B+=H;k.B>0?(g.pD(y.element,"ytp-ce-force-expand"),rM(k,q.id,!0)):(g.mW(y.element,"ytp-ce-force-expand"),g.mW(y.element,"ytp-ce-element-hover"),rM(k,q.id,!1))}
function n(){D(1)}
function T(){D(-1)}
y.listen("mouseenter",function(){RqN(k,y,q)});
y.listen("mouseleave",function(){eqT(k,y,q)});
k.player.S().N||y.listen("click",function(){g.pD(y.element,"ytp-ce-element-hover")});
y.listen("click",function(H){WFw(k,q,H)});
y.listen("keypress",function(H){WFw(k,q,H)});
y.listen("focus",function(){RqN(k,y,q)});
y.listen("blur",function(){eqT(k,y,q)});
y.listen("touchstart",function(){RqN(k,y,q)});
var I=g.kO("ytp-ce-expanding-overlay-hider",y.element);I&&y.T(I,"touchstart",function(H){H.stopPropagation();g.mW(y.element,"ytp-ce-element-hover");g.mW(y.element,"ytp-ce-force-expand")});
y.listen("keydown",function(H){k.sT=H.keyCode===9&&!H.shiftKey});
N(g.kO("ytp-sb-subscribe",y.element));N(g.kO("ytp-sb-unsubscribe",y.element));y.listen("focus",n);y.listen("blur",T)},WFw=function(k,y,q){if(y.targetUrl&&(!q||q.type!=="keypress"||q.keyCode===13)){for(var N=q.target;N&&!g.zh(N,"ytp-ce-element");){g.zh(N,"subscribe-label")&&Zcx(k,y);
if(g.zh(N,"ytp-ce-channel-subscribe"))return;N=N.parentElement||null}if(!N||g.zh(N,"ytp-ce-element-hover")){q.preventDefault();q.stopPropagation();if(N=k.Z[y.id])eqT(k,N,y),N.element.blur();if(q.ctrlKey||q.metaKey||y.vgT==="new")Zcx(k,y),k.player.sendVideoStatsEngageEvent(17,void 0),k.player.pauseVideo(),q=g.G6(pR(k,y.targetUrl)),q=g.Ml(q),g.Hk(q,void 0,y.sessionData);else{var D=g.ng(k.player.S())||k.player.getVideoData().Up,n=function(){var T=pR(k,y.targetUrl),I=y.sessionData,H=y.watchEndpoint,K=
g.zf(T);D&&K&&(K.v||K.list)?k.player.C6(K.v,I,K.list,!1,void 0,H||void 0):g.Iq(T,I)};
Zcx(k,y,function(){k.player.sendVideoStatsEngageEvent(17,n)})}}}},pR=function(k,y){k=k.player.S();
if(y){if(y.startsWith("//"))return k.protocol+":"+y;if(y.startsWith("/"))return g.uw(k)+y}else return"";return y},RqN=function(k,y,q){g.zh(y.element,"ytp-ce-element-hover")||(q.type==="VIDEO"||q.type==="PLAYLIST"?g.pD(y.element,"ytp-ce-element-hover"):k.player.S().N?(new g.c3(function(){g.pD(y.element,"ytp-ce-element-hover")},200)).start():g.pD(y.element,"ytp-ce-element-hover"),mr(k,q.J1),rM(k,q.id,!0))},eqT=function(k,y,q){g.mW(y.element,"ytp-ce-element-hover");
g.mW(y.element,"ytp-ce-force-expand");rM(k,q.id,!1)},rM=function(k,y,q){k.C&&(q?k.j.show():k.j.hide());
for(var N=g.p(Object.keys(k.Z)),D=N.next();!D.done;D=N.next())D=D.value,D!==y&&g.fD(k.Z[D].element,"ytp-ce-element-shadow-show",q)},mr=function(k,y,q){function N(){n||(D++,D===y.length&&(T.stop(),q&&q()))}
if(!y||y.length===0||Xt(k))q&&q();else{y=lhx(k,y);var D=0,n=!1,T=new g.c3(function(){n=!0;q&&q()},1E3,k);
T.start();for(k=0;k<y.length;k++)g.wf(y[k],N)}},Zcx=function(k,y,q){mr(k,y.clickUrls,q);
(k=g.gg())&&y.NFb&&g.rq(k,y.visualElement)},lhx=function(k,y){var q=k.player.getVideoData().clientPlaybackNonce;
k=k.player.getCurrentTime().toFixed(2);q={CPN:q,AD_CPN:q,MT:k};k=[];for(var N=0;N<y.length;N++)k.push(sTF(y[N],q));return k},sTF=function(k,y){return k.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(q){var N=unescape(q);
N=N.substring(1,N.length-1);return y[N]?escape(y[N]):q})},JOb=function(k){return typeof k==="string"?k:""},iF=function(k,y,q){for(var N in y)if(y[N]===k)return k;
return q},tq1=function(k,y,q,N){this.value=k;
this.target=y;this.showLinkIcon=q;this.Z=N},fR=function(k){return k.value?k.value:null},O6=function(k){if(!k)return null;
var y=g.G6(JOb(k.value));y=g.Ml(y);if(!y)return null;var q=iF(k.target,kwb,"current");if(q==null)k=null;else{var N=k.show_link_icon;k=new tq1(y,q,N==="true"||N==="false"?N==="true":!0,k.pause_on_navigation!=null?k.pause_on_navigation:!0)}return k},yPE=function(k,y,q){this.type=k;
this.trigger=y;this.url=q},DIT=function(k){if(!k)return null;
var y=iF(k.type,qfw),q=iF(k.trigger,NRT);k=k.url;k=Array.isArray(k)&&k.length?k[0]:k;k=O6(k?k:null);return y?new yPE(y,q,k):null},n2b=function(k,y,q,N,D){this.id=k;
this.type=y;this.style=q;this.data=D;this.action=N||[]},TR1=function(k,y){return g.he(k.action,y)},wl$=function(k,y){this.context=k;
this.Z=y},I2g=function(k){return k.customMessage?Py("div","iv-card-message",k.customMessage):""},vy=function(k,y){k="background-image: url("+k+");";
var q=[];y&&q.push(y);return{X:"div",D:"iv-card-image",K:{style:k},L:q}},HdO=function(k){if(!k.metaInfo||k.metaInfo.length===0)return"";
var y=[];k=g.p(k.metaInfo);for(var q=k.next();!q.done;q=k.next())y.push(Py("li","",q.value));return{X:"ul",D:"iv-card-meta-info",L:y}},Py=function(k,y,q){y?typeof y==="string"?y={"class":y}:Array.isArray(y)&&(y={"class":y.join(" ")}):y={};
y.dir=g.be(q);return{X:k,K:y,oO:q}},KvO=function(k){if(!k.customMessage)return"";
var y=["iv-card-action","iv-card-primary-link"],q={};k.Rn&&(y.push("iv-card-action-icon"),q.style="background-image: url("+k.Rn+");");q.dir=g.be(k.customMessage);var N=[{X:"span",oO:k.customMessage}];k.showLinkIcon&&(N.push("\u00a0"),N.push({X:"span",D:"iv-card-link-icon"}));return{X:"div",jb:y,K:q,L:N}},CR=function(k,y,q,N){if(N){y=g.p(y);
for(var D=y.next();!D.done;D=y.next())k.Z(D.value,N,q.id,q.sessionData,q.ZC.click,5)}},APN=function(k,y){this.merchant=k;
this.price=y},cPF=function(k){var y;
(y=k)&&!(y=k.length>1?k.charAt(0)==="/"&&k.charAt(1)!=="/":k==="/")&&(y=k.replace(/^(https?:)?\/\//,"").split("/",1),y=!y||y.length<1||!y[0]?[]:y[0].toLowerCase().split(".").reverse(),y=y[0]==="com"&&y[1]==="youtube"||y[0]==="be"&&y[1]==="youtu");return y?k.indexOf("/redirect?")===-1:!1},u6w=function(k,y){return y?y:cPF(k)?"current":"new"},E6=function(k,y){g.S.call(this);
var q=this;this.element=k;this.context=y;this.MD=!1;this.hV=new Map;this.Dx=new Map;this.context.G.addEventListener(g.ib("annotations_module"),function(N){(N=q.hV.get(N))&&N.apply(q)});
this.context.G.addEventListener(g.fh("annotations_module"),function(N){(N=q.Dx.get(N))&&N.apply(q)})},bF=function(k,y,q,N,D,n,T){k.context.Z.listen(y,"click",function(I){k.C3(q,N,D,n||[],T||0,I)});
k.context.Z.listen(y,"touchstart",function(){k.MD=!1});
k.context.Z.listen(y,"touchmove",function(){k.MD=!0})},a2N=function(k){var y;
return((y=g.L(k,g.yS))==null?0:y.url)?g.L(k,g.yS).url:(k=g.L(k,g.a_))&&k.videoId?(y="/watch?v="+k.videoId,k.playlistId&&(y+="&list="+k.playlistId),k.index&&(y+="&index="+k.index),k.startTimeSeconds&&(y+="&t="+k.startTimeSeconds),y):null},VC=function(k,y,q){return{Rw:(k.impressionLoggingUrlsV2s||[]).map(function(N){return N.baseUrl||""}),
click:(q.loggingUrls||[]).map(function(N){return N.baseUrl||""}),
close:(y.dismissLoggingUrlsV2s||[]).map(function(N){return N.baseUrl||""}),
TI:(y.impressionLoggingUrlsV2s||[]).map(function(N){return N.baseUrl||""}),
Y1:(y.clickLoggingUrlsV2s||[]).map(function(N){return N.baseUrl||""})}},xIg=function(k,y,q){E6.call(this,y,q);
var N=this;this.G=k;this.eventId=null;this.oM=this.wF=this.jH=this.C=this.isInitialized=!1;this.cards=[];this.UT=this.J=this.QM=this.j=this.fS=this.Z=null;this.sT=[];this.ND=this.B=this.LC=this.eb=null;this.Y=0;this.pS=new g.c3(function(){},q.uw.Lm?4E3:3E3);
g.G(this,this.pS);this.aO=new g.c3(function(){});
g.G(this,this.aO);this.AV=new wl$(q,function(D,n,T,I,H,K){bF(N,D,n,T,I,H,K)});
this.U=new g.R({X:"div",D:"iv-drawer",K:{id:"iv-drawer"},L:[{X:"div",D:"iv-drawer-header",K:{"aria-role":"heading"},L:[{X:"span",D:"iv-drawer-header-text"},{X:"button",jb:["iv-drawer-close-button","ytp-button"],K:{"aria-label":"Hide cards",tabindex:"0"}}]},{X:"div",D:"iv-drawer-content"}]});g.G(this,this.U);this.V=this.U.element;this.RO=new g.zt(this.U,330);g.G(this,this.RO);this.GL=g.kO("iv-drawer-header-text",this.V);this.N=g.kO("iv-drawer-content",this.V);this.addCueRange(0,q.videoData.lengthSeconds*
1E3,"",function(){N.jH&&By(N,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(N.jH=N.C)&&U6(N)});
this.Wl=new g.to(this);g.G(this,this.Wl);this.G.addEventListener("videodatachange",this.nO.bind(this))},jdO=function(k,y){y=y.data;
y.autoOpenMs&&k.addCueRange(y.autoOpenMs,0x8000000000000,"",function(){By(k,"YOUTUBE_DRAWER_AUTO_OPEN")});
y.autoCloseMs&&k.addCueRange(y.autoCloseMs,0x8000000000000,"",function(){U6(k)});
var q=y.headerText;g.ux(k.GL,q);k.J&&k.J.setAttribute("title",q);y.eventId&&(k.eventId=y.eventId);k.eb=g.GW(y.trackingParams);k.B=g.GW(y.closeTrackingParams);k.LC=g.GW(y.iconTrackingParams)},Xlb=function(k,y){var q=y.cardId?y.cardId:"cr:"+k.Y,N=k.G.S().experiments.rF("enable_error_corrections_infocard_web_client");
if(!y.content&&y.teaser.simpleCardTeaserRenderer&&N){var D=y.teaser.simpleCardTeaserRenderer,n=y.icon?y.icon.infoCardIconRenderer:null;y={id:q,timestamp:k.Y,type:"simple",teaserText:g.QX(D.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:{},sponsored:!1,ZC:{},GH:null,Rs:D.trackingParams?g.GW(D.trackingParams):null,LC:n&&n.trackingParams?g.GW(n.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
Rn:null,title:"",customMessage:"",url:null,onClickCommand:D.onTapCommand||null};QC(k,y)}else{var T;if((T=y.content)==null?0:T.simpleCardContentRenderer){if(!y.cueRanges.length)return;n=(D=y.content)==null?void 0:D.simpleCardContentRenderer;D=y.teaser.simpleCardTeaserRenderer;var I=y.icon?y.icon.infoCardIconRenderer:null;y={id:q,timestamp:k.Y,type:"simple",teaserText:g.QX(D.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,
sessionData:MT(k,q,y,n),sponsored:!1,ZC:VC(n,D,n.command),GH:n.trackingParams?g.GW(n.trackingParams):null,Rs:D.trackingParams?g.GW(D.trackingParams):null,LC:I&&I.trackingParams?g.GW(I.trackingParams):null,imageUrl:Ft(n.image.thumbnails,290).url,displayDomain:n.displayDomain?g.QX(n.displayDomain):null,showLinkIcon:!!n.showLinkIcon,Rn:null,title:n.title?g.QX(n.title):"",customMessage:n.callToAction?g.QX(n.callToAction):"",url:g.L(n.command,g.yS).url?O6({pause_on_navigation:!k.context.videoData.isLivePlayback,
target:"new",value:g.L(n.command,g.yS).url}):null,onClickCommand:null};QC(k,y)}else{var H;if((H=y.content)==null?0:H.collaboratorInfoCardContentRenderer){if(!y.cueRanges.length)return;D=(n=y.content)==null?void 0:n.collaboratorInfoCardContentRenderer;n=y.teaser.simpleCardTeaserRenderer;I=y.icon?y.icon.infoCardIconRenderer:null;y={id:q,timestamp:k.Y,type:"collaborator",teaserText:g.QX(n.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),startMs:Number(y.cueRanges[0].startCardActiveMs),
autoOpen:!!y.autoOpen,sessionData:MT(k,q,y,D),sponsored:!1,ZC:VC(D,n,D.endpoint),GH:D.trackingParams?g.GW(D.trackingParams):null,Rs:n.trackingParams?g.GW(n.trackingParams):null,LC:I&&I.trackingParams?g.GW(I.trackingParams):null,channelId:g.L(D.endpoint,g.EK).browseId,customMessage:D.customText?g.QX(D.customText):null,profileImageUrl:Ft(D.channelAvatar.thumbnails,290).url,title:D.channelName?g.QX(D.channelName):"",metaInfo:[D.subscriberCountText?g.QX(D.subscriberCountText):""],url:O6({pause_on_navigation:!k.context.videoData.isLivePlayback,
target:"new",value:g.L(D.endpoint,g.EK).canonicalBaseUrl?g.L(D.endpoint,g.EK).canonicalBaseUrl:"/channel/"+g.L(D.endpoint,g.EK).browseId}),onClickCommand:null};QC(k,y)}else{var K;if((K=y.content)==null?0:K.playlistInfoCardContentRenderer){if(!y.cueRanges.length)return;D=(I=y.content)==null?void 0:I.playlistInfoCardContentRenderer;n=y.teaser.simpleCardTeaserRenderer;I=y.icon?y.icon.infoCardIconRenderer:null;y={id:q,timestamp:k.Y,type:"playlist",teaserText:g.QX(n.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),
startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:MT(k,q,y,D),sponsored:!1,ZC:VC(D,n,D.action),GH:D.trackingParams?g.GW(D.trackingParams):null,Rs:n.trackingParams?g.GW(n.trackingParams):null,LC:I&&I.trackingParams?g.GW(I.trackingParams):null,yL:Ft(D.playlistThumbnail.thumbnails,258).url,customMessage:D.customMessage?g.QX(D.customMessage):null,playlistVideoCount:g.QX(D.playlistVideoCount),title:D.playlistTitle?g.QX(D.playlistTitle):"",metaInfo:[D.channelName?g.QX(D.channelName):
"",D.videoCountText?g.QX(D.videoCountText):""],url:O6({pause_on_navigation:!k.context.videoData.isLivePlayback,target:"new",value:a2N(D.action)}),onClickCommand:null};QC(k,y)}else{var A;if((A=y.content)==null?0:A.videoInfoCardContentRenderer){if(!y.cueRanges.length)return;var c;D=(c=y.content)==null?void 0:c.videoInfoCardContentRenderer;n=y.teaser.simpleCardTeaserRenderer;I=y.icon?y.icon.infoCardIconRenderer:null;y={id:q,timestamp:k.Y,type:"video",teaserText:g.QX(n.message),teaserDurationMs:Number(y.cueRanges[0].teaserDurationMs),
startMs:Number(y.cueRanges[0].startCardActiveMs),autoOpen:!!y.autoOpen,sessionData:MT(k,q,y,D),sponsored:!1,ZC:VC(D,n,D.action),GH:D.trackingParams?g.GW(D.trackingParams):null,Rs:n.trackingParams?g.GW(n.trackingParams):null,LC:I&&I.trackingParams?g.GW(I.trackingParams):null,yL:Ft(D.videoThumbnail.thumbnails,258).url,videoDuration:D.lengthString?g.QX(D.lengthString):null,customMessage:D.customMessage?g.QX(D.customMessage):null,title:D.videoTitle?g.QX(D.videoTitle):"",metaInfo:[D.channelName?g.QX(D.channelName):
"",D.viewCountText?g.QX(D.viewCountText):""],isLiveNow:!!D.badge,url:O6({pause_on_navigation:!k.context.videoData.isLivePlayback,target:"new",value:a2N(D.action)}),onClickCommand:null};QC(k,y)}}}}}k.Y++},Ft=function(k,y){for(var q=-1,N=-1,D=0;D<k.length;D++){if(k[D].height===y||k[D].width===290)return k[D];
((k[D].height||0)<y||(k[D].width||0)<290)&&(q<0||(k[q].height||0)<(k[D].height||0)||(k[q].width||0)<(k[D].width||0))?q=D:((k[D].height||0)>=y||(k[D].width||0)>=290)&&(N<0||(k[N].height||0)>(k[D].height||0)||(k[N].width||0)>(k[D].width||0))&&(N=D)}return k[N>=0?N:q]},MT=function(k,y,q,N){return{feature:q.feature?q.feature:"cards",
src_vid:k.context.videoData.videoId,annotation_id:y,ei:k.context.videoData.eventId||"",itct:N.trackingParams||""}},zvN=function(k,y){if(y=$I$(k,y))y===k.Z&&(k.Z=null),k.G.removeCueRange(y.PH.id),g.Au(y.O7),g.ZT(k.cards,y),k.oa(),Ys(k)},By=function(k,y,q){if(!k.C){k.RO.show();
k.fS=new g.c3(function(){g.pD(k.context.G.getRootNode(),g.Dt.IV_DRAWER_OPEN)},0);
k.fS.start();k.Wl.T(k.N,"mousewheel",function(T){k.pS.start();T.preventDefault();T=T||window.event;var I=0;T.type=="MozMousePixelScroll"?I=0==(T.axis==T.HORIZONTAL_AXIS)?T.detail:0:window.opera?I=T.detail:I=T.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?T.wheelDeltaY/-30:T.wheelDeltaY/-1.2:T.wheelDelta/-1.6:T.wheelDeltaY/-3;if(T=I)k.N.scrollTop+=T});
k.C=!0;var N=g.gg();N&&k.eb&&k.B&&g.zU(N,[k.eb,k.B]);y={TRIGGER_TYPE:y};for(var D=g.p(k.cards),n=D.next();!n.done;n=D.next())n=n.value,n.Sf||(n.Sf=!0,plG(k.context.logger,n.PH.ZC.Rw,y)),N&&g.zU(N,[n.PH.GH]);I$(k.G);q&&(k.j=new g.c3(function(){k.QM=k.J;k.UT.focus()},330),k.j.start())}},U6=function(k){k.C&&(k.RO.hide(),g.R0(k.Wl),g.mW(k.context.G.getRootNode(),g.Dt.IV_DRAWER_OPEN),k.C=!1,I$(k.G),k.j&&k.j.stop(),k.j=new g.c3(function(){k.QM&&(k.QM.focus(),k.QM=null)},330),k.j.start())},rPq=function(k){g.rj(k.F4(),
[g.Dt.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.pa(k.G,k.V,5);k.Ld();k.J=g.kO("ytp-cards-button",k.G.getRootNode());k.UT=g.kO("iv-drawer-close-button",k.V);k.isInitialized=!0},mIF=function(k){k.sT.push(g.OG("iv-teaser-shown",k.dg,k));
k.sT.push(g.OG("iv-teaser-hidden",k.XlT,k));k.sT.push(g.OG("iv-teaser-clicked",k.BT,k));k.oM=!0},id1=function(k,y){var q;
return y.onClickCommand&&((q=g.L(y.onClickCommand,g.ICq))==null?void 0:q.targetId)==="engagement-panel-error-corrections"?(k.ND=y,!0):!1},f2E=function(k,y){k.ND=y;
var q=k.G.getVideoData();if(!q)return!1;q=g.Mz(q);if(q==null?0:q.markersMap)for(var N,D=0;((N=q)==null?void 0:N.markersMap.length)>D;D++){var n=void 0,T=(n=q)==null?void 0:n.markersMap[D];if(T.key==="ERROR_CORRECTION_MARKERS"&&(n=void 0,(T=(n=T.value)==null?void 0:n.markers)&&T.length>0))return N=void 0,y.startMs=((N=g.L(T[0],g.h06))==null?void 0:N.timeRangeStartMillis)||0,k.ND=null,!0}return!1},QC=function(k,y){if(!id1(k,y)||f2E(k,y)){var q=OdT(k,y);
if(q){var N={PH:y,O7:q.element,Sf:!1};if(y.onClickCommand)k.G.W("web_infocards_teaser_show_logging_fix")&&(k.oM||mIF(k),zvN(k,y.id),q=k.findLastIndex(N),g.y4(k.cards,q,0,N));else{k.isInitialized||rPq(k);zvN(k,y.id);var D=k.findLastIndex(N);g.y4(k.cards,D,0,N);q.FH(k.N,D);k.oa()}y.autoOpen?k.addCueRange(y.startMs,0x8000000000000,y.id,function(){k.C||(k.Z=N,Ys(k),P1O(k,N),By(k,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(q=k.context.G.getCurrentTime()*1E3,q<5E3&&q>y.startMs&&v2L(k,N),k.addCueRange(y.startMs,
y.startMs+1,y.id,function(){v2L(k,N)}),Ys(k))}}},OdT=function(k,y){switch(y.type){case "simple":k=k.AV;
var q=y.displayDomain?{X:"div",D:"iv-card-image-text",oO:y.displayDomain}:void 0;var N=KvO(y);q={X:"div",jb:["iv-card"],L:[{X:"a",D:"iv-click-target",K:{href:y.url?fR(y.url)||"":""},L:[vy(y.imageUrl,q),{X:"div",D:"iv-card-content",L:[Py("h2",void 0,y.title),N]}]}]};q=new g.R(q);CR(k,g.JP("iv-click-target",q.element),y,y.url);y=q;break;case "collaborator":k=k.AV;q={X:"div",jb:["iv-card","iv-card-channel"],L:[{X:"a",jb:["iv-click-target"],K:{href:fR(y.url)||"","data-ytid":y.channelId},L:[vy(y.profileImageUrl),
{X:"div",D:"iv-card-content",L:[I2g(y),{X:"h2",D:"iv-card-primary-link",oO:y.title},HdO(y)]}]}]};q=new g.R(q);CR(k,g.JP("iv-click-target",q.element),y,y.url);y=q;break;case "playlist":k=k.AV;q={X:"div",jb:["iv-card","iv-card-playlist"],L:[{X:"a",D:"iv-click-target",K:{href:fR(y.url)||""},L:[vy(y.yL,{X:"div",D:"iv-card-image-overlay",L:[{X:"span",D:"iv-card-playlist-video-count",oO:y.playlistVideoCount}]}),{X:"div",D:"iv-card-content",L:[I2g(y),Py("h2","iv-card-primary-link",y.title),HdO(y)]}]}]};
q=new g.R(q);CR(k,g.JP("iv-click-target",q.element),y,y.url);y=q;break;case "productListing":k=k.AV;var D=y.offers.length!=0;q=["iv-card"];N="";var n=KvO(y);D&&(q.push("iv-card-product-listing"),N="iv-card-primary-link",n=y.offers[0],D=[],n.price&&D.push({X:"div",D:"iv-card-offer-price",oO:n.price}),n.merchant&&D.push({X:"div",D:"iv-card-offer-merchant",oO:n.merchant}),n={X:"div",L:D});D=y.url?fR(y.url)||"":"";q={X:"div",jb:q,K:{tabindex:"0"},L:[{X:"a",jb:["iv-card-image","iv-click-target"],K:{style:"background-image: url("+
y.imageUrl+");",href:D,"aria-hidden":"true",tabindex:"-1"}},{X:"div",D:"iv-card-content",L:[y.sponsored?{X:"div",D:"iv-card-sponsored",L:["Sponsored",{X:"div",D:"iv-ad-info-container",L:[{X:"div",D:"iv-ad-info",oO:"{{adInfo}}"},{X:"div",D:"iv-ad-info-icon-container",L:[{X:"div",D:"iv-ad-info-icon"},{X:"div",D:"iv-ad-info-callout"}]}]}]}:"",{X:"a",D:"iv-click-target",K:{href:D},L:[Py("h2",N,y.title),n]}]}]};q=new g.R(q);N=g.T3("span");g.ux(N,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
q.xl(N,"adInfo");CR(k,g.JP("iv-click-target",q.element),y,y.url);y=q;break;case "video":k=k.AV;N=y.videoDuration?{X:"span",D:"iv-card-video-duration",oO:y.videoDuration}:void 0;n=y.isLiveNow?{X:"span",jb:["yt-badge","yt-badge-live"],oO:"LIVE NOW"}:null;D={X:"div",jb:["iv-card","iv-card-video"],L:[{X:"a",D:"iv-click-target",K:{href:((q=y.url)==null?void 0:fR(q))||""},L:[vy(y.yL,N),{X:"div",D:"iv-card-content",L:[I2g(y),Py("h2","iv-card-primary-link",y.title),HdO(y),n]}]}]};q=new g.R(D);CR(k,g.JP("iv-click-target",
q.element),y,y.url);y=q;break;default:return null}return y},C1g=function(k){if(k.Z)return k.Z.PH.type==="productListing";
if(k.G.W("enable_wn_infocards")){var y;return!((y=k.cards)==null||!y.length)&&g.FR(k.cards,function(q){return q.PH.type==="productListing"})}return g.FR(k.cards,function(q){return q.PH.type==="productListing"})},Ys=function(k){g.fD(k.G.getRootNode(),"ytp-cards-shopping-active",C1g(k))},v2L=function(k,y){if(!g.zh(k.G.getRootNode(),"ytp-cards-teaser-shown")){if(k.Z!==y){var q=g.gg(),N=k.Z?k.Z.PH.LC:k.LC;
q&&N&&g.pr(q,[N]);k.Z=y;Ys(k)}(q=k.isInitialized&&k.F4().style.display=="none")||(q=k.context.G.getPlayerState(),N=q===0&&k.context.G.getCurrentTime()===0,q=!(q===1||q===3||N));q||y.PH.teaserDurationMs&&k.G.t$(!0,{teaserText:y.PH.teaserText,durationMs:y.PH.teaserDurationMs,onClickCommand:y.PH.onClickCommand});k.aO.isActive()||((!k.C||!k.pS.isActive()&&k.wF)&&P1O(k,y),k.aO.start(910+y.PH.teaserDurationMs))}},P1O=function(k,y){k.U.Az?(y=new uF([0,
k.N.scrollTop],[0,y.O7.offsetTop],600,QTq),k.context.C.listen(y,"animate",function(q){k.N.scrollTop=q.y}),k.context.C.listen(y,"finish",function(q){k.N.scrollTop=q.y}),y.play()):(k.U.xz(!0),k.N.scrollTop=y.O7.offsetTop,k.U.xz(!1))},Sr=function(k){return k.Z&&k.Z.PH?k.Z.PH:k.cards[0]&&k.cards[0].PH?k.cards[0].PH:null},$I$=function(k,y){return g.he(k.cards,function(q){return q.PH.id===y})},G4=function(k,y,q){E6.call(this,k,y);
this.annotation=q;this.isActive=!1},E2B=function(k){var y=k.annotation.data;
"start_ms"in y&&"end_ms"in y&&k.addCueRange(Number(y.start_ms),Number(y.end_ms),k.annotation.id,function(){k.show()},function(){k.hide()})},LR=function(k,y,q){G4.call(this,k,y,q);
this.N=null;this.B=!1;this.C=null;this.V=!1;this.Z=this.Y=this.j=null},bdE=function(k,y){var q=q===void 0?0:q;
var N=OcF(y).width;g.b6(y,N);q=new B2E(y,[N,y.offsetTop],[N-N-q,y.offsetTop],200,UlL);g.G(k,q);k.context.C.listen(q,"begin",function(){g.FT(y,!0)});
q.play()},UIg=function(k,y){if(y.channel_name){var q=k.createElement({X:"div",
jb:["iv-branding-context-name"],oO:y.channel_name}),N=k.createElement({X:"div",jb:["iv-branding-context-subscribe"]}),D=y.standalone_subscribe_button_data;D&&(k.Z=new g.tD(D.subscribeText,D.subscribeCount,D.unsubscribeText,D.unsubscribeCount,!!D.enabled,!!D.classic,y.channel_id,!!D.subscribed,D.feature,y.session_data.itct,k.context.G,!1),k.Z.FH(N));var n=k.createElement({X:"div",jb:["iv-branding-context-subscribe-caret"]}),T=k.createElement({X:"div",jb:["branding-context-container-inner"]});T.appendChild(n);
T.appendChild(q);T.appendChild(N);g.FT(T,!1);var I=k.createElement({X:"div",jb:["branding-context-container-outer"]});I.appendChild(T);g.fW(I,"right",y.image_width+"px");g.IP(k.F4(),I);k.C=new g.c3(function(){VQg(k,T,I)},500);
g.G(k,k.C);k.context.Z.listen(k.F4(),"mouseover",function(){BRG(k,T,I,n,y.image_height)});
k.context.Z.listen(k.F4(),"mouseout",function(){k.C.start()})}},BRG=function(k,y,q,N,D){k.C.stop();
if(!k.V){var n=g.MO(y);k.Z||(y.style.width=g.E2(n.width,!0),q.style.width=g.E2(n.width,!0));g.fW(N,"top",n.height-Math.max(Math.min(n.height,D)/2+10,20)+"px");g.fW(N,"right","1px");k.V=!0;g.FT(y,!0);k.j=new g.c3(function(){g.pD(this.F4(),"iv-branding-active")},0,k);
k.j.start()}},VQg=function(k,y,q){g.mW(k.F4(),"iv-branding-active");
k.Y=new g.c3(function(){g.FT(y,!1);k.Z||(q.style.width=g.E2(0,!0))},250);
k.Y.start();k.V=!1},Qdw=function(k,y,q,N,D,n,T){this.Z=k;
this.C=y;this.uw=q;this.videoData=N;this.logger=D;this.G=n;this.N=T},MQb=function(k,y,q){G4.call(this,k,y,q);
var N=this;this.J=this.isCollapsed=this.U=!1;this.Y=5E3;this.N=this.C=this.Z=this.V=null;this.B=this.createElement({X:"div",jb:["iv-promo-contents"]});this.j=new g.c3(function(){N.Z.setAttribute("aria-hidden","true");g.FT(N.C,!1);g.FT(N.N,!0)},700,this);
g.G(this,this.j)},SfE=function(k,y,q){q.stopPropagation();
FvO(k);Yfe(k,y);k.Z.focus()},GwB=function(k){k.isCollapsed||k.J||k.V||(g.pD(k.F4(),"iv-promo-collapsed"),k.isCollapsed=!0,k.j.start())},FvO=function(k){k.j.stop();
k.isCollapsed&&(g.ie(k.F4(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),k.isCollapsed=!1,k.Z&&k.Z.removeAttribute("aria-hidden"),g.FT(k.N,!1),g.FT(k.C,!0))},Yfe=function(k,y){k.V||(k.V=g.bG(function(){Lv$(this);
GwB(this)},y,k))},Lv$=function(k){k.V&&(g.FZ.clearTimeout(k.V),k.V=null)},dIO=function(k){this.G=k},plG=function(k,y,q){y&&(q?dM(k,y.map(function(N){return g.FE(N,q)})):dM(k,y))},dM=function(k,y,q,N){var D=1,n=void 0,T=-1;
if(q){var I=!1;n=function(){D--;D||I||(clearTimeout(T),I=!0,q())};
T=setTimeout(function(){I=!0;q()},1E3)}y=g.p(y||[]);
for(var H=y.next();!H.done;H=y.next())H=H.value,D++,g.wf(H,n);N&&(D++,N!==0&&k.G.sendVideoStatsEngageEvent(N,n))},g2E=function(k){g.pi.call(this,k);
var y=this;this.sT=this.J=!1;this.loadNumber=0;this.Y={};this.logger=new dIO(this.player);this.V=new g.to(this);this.j=this.B=null;this.events=new g.to(this);this.CD=this.U=this.Z=null;this.ND=[];g.G(this,this.V);this.V.T(this.player,"onVideoAreaChange",function(){y.publish("onVideoAreaChange")});
this.V.T(this.player,"onHideControls",function(){y.publish("onHideControls")});
this.V.T(this.player,"onShowControls",function(){y.publish("onShowControls")});
this.V.T(this.player,"resize",function(N){y.publish("resize",N)});
this.V.T(this.player,"presentingplayerstatechange",function(N){y.publish("presentingplayerstatechange",N)});
this.subscribe("presentingplayerstatechange",this.DT,this);this.subscribe("resize",this.eT,this);this.player.S().wF.subscribe("vast_info_card_add",this.cg,this);g.G(this,this.events);this.AV=this.createElement({X:"div",D:"video-custom-annotations"});this.N=new g.R({X:"div",jb:["ytp-player-content","ytp-iv-player-content"]});g.G(this,this.N);g.pa(this.player,this.N.element,4);this.N.hide();this.C=new g.R({X:"div",jb:["ytp-iv-video-content"]});g.G(this,this.C);k=this.createElement({X:"div",D:"video-annotations"});
k.appendChild(this.AV);this.C.element.appendChild(k);this.H2()&&this.load();var q=this.createElement({X:"style"});(g.sf("HEAD")[0]||document.body).appendChild(q);this.addOnDisposeCallback(function(){g.Au(q)});
if(k=q.sheet)k.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),k.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),k.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),k.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),k.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),k.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),k.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),k.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),k.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),k.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},o2E=function(k){k=k.createElement({X:"div",
jb:["annotation","annotation-type-custom"]});g.FT(k,!1);return k},hvx=function(k,y){y=!y.isCued()&&!g.e(y,1024);
k.N.xz(y);k.C.xz(y)},Rvg=function(k,y,q){k.J=!0;
k.j=g.de(y,q)},ev1=function(k,y){for(var q={},N=g.p(y.attributes),D=N.next();!D.done;D=N.next())D=D.value,q[D.name]=D.nodeValue;
for(N=0;N<y.childNodes.length;N++)if(D=y.childNodes[N],g.gT(D)&&D.nodeType==1){if(q[D.tagName])var n=q[D.tagName];else if(D.tagName==="data"){D.childNodes.length>0&&(n=D.childNodes[0].nodeValue,q[D.tagName]=typeof n==="string"?n.trim():n);continue}else n=[],q[D.tagName]=n;D&&D.tagName==="TEXT"?D.childNodes.length===1&&D.childNodes[0].nodeType===3?n.push(D.childNodes[0].nodeValue):n.push(""):D&&n.push(ev1(k,D))}return q},sde=function(k){var y=k.player.getVideoData();
if(y.hV){var q=k.player.S().wF.get(y.videoId);if(q){var N={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(D,n,T){D=k.loadNumber;n=y.videoId;k.loaded&&k.loadNumber===D&&k.player.getVideoData().videoId===n&&(T=g.EP(T)&&T.responseXML?T.responseXML:null)&&Wvx(k,T)}};
g.Xv()&&(N.onFinish=Zdx(k,N.onFinish));N.postParams={ic_only:"1"};l2E(N,q);k.J=!0;g.de(y.hV,N)}}},l2E=function(k,y){k.method="POST";
k.postParams=k.postParams||{};y.pu&&(k.postParams.ic_coll=y.pu);y.iB&&(k.postParams.ic_xml=y.iB);y.d3&&(k.postParams.ic_track=y.d3)},JP$=function(k){var y=new g.R({X:"div"});
g.FT(y.element,!1);var q=new xIg(k.player,y.element,gM(k));g.G(q,y);y.FH(k.N.element);q.Yq();return q},k3x=function(k,y){var q,N;
if(y=(q=y.getWatchNextResponse())==null?void 0:(N=q.cards)==null?void 0:N.cardCollectionRenderer)k.sT=!0,tQe(k,y),y.headerText&&k.CD&&(q=g.QX(y.headerText),k.CD.setAttribute("title",q))},gM=function(k){if(!k.U){var y=new Mq$(k);
g.G(k,y);var q=new g.bI(k);g.G(k,q);k.U=new Qdw(y,q,k.player.S(),k.player.getVideoData(),k.logger,k.player,k.Ov)}return k.U},Wvx=function(k,y){var q=!1,N=y.getElementsByTagName("annotations");
if(N&&!(N.length<1)&&(N=N[0].getAttribute("itct"))){var D=g.gg();if(D){var n=g.dg();n&&g.uW(g.Ho)(void 0,D,n,[g.GW(N)])}}y=y.getElementsByTagName("annotation");for(N=0;N<y.length;N++){n=ev1(k,y[N]);D=null;try{if(n){var T=n.id,I=/.+/;var H=typeof T==="string"&&I!=null&&T!=null&&T.match(I)?T:"";var K=iF(n.type,yue),A=iF(n.style,qLb),c=JOb(n.data),u=c.length!==0?JSON.parse(c):{};var a=n.action;n=DIT;if(a==null)var x=null;else if(g.dT(a)){I=[];for(var r=g.p(a),f=r.next();!f.done;f=r.next()){var P=n(f.value);
P&&I.push(P)}x=I}else{var C=n(a);x=C?[C]:[]}D=H&&K?new n2b(H,K,A,x,u):null}else D=null}catch(qD){}if(D)if(D.type==="branding"||D.type==="promotion"){n=k;I=D;var V=o2E(n),Q=null;switch(I.type){case "branding":if(n.player.S().cX)break;n.N.element.appendChild(V);Q=new LR(V,gM(n),I);break;case "promotion":g.pa(n.player,V,4),Q=new MQb(V,gM(n),I)}Q&&Q.Yq();if(n=Q)g.G(k,n),k.Y[D.id]=n}else if(D.type==="card"||D.type==="drawer"){k.Z||(k.Z=JP$(k),g.G(k,k.Z));if(D.type==="card"){V=k.Z;var Y=(q=D)&&q.data&&
q.data.card_type;D=q.data;if(Y)switch(n=D.tracking||{},n={Rw:n.impression,click:n.click,close:n.close,TI:n.teaser_impression,Y1:n.teaser_click},I=D.tracking_params||{},Q=null,Y){case "collaborator":q={id:q.id,timestamp:D.timestamp||0,type:D.card_type,teaserText:D.teaser_text,teaserDurationMs:D.teaser_duration_ms,startMs:D.start_ms,autoOpen:D.auto_open||!1,sessionData:D.session_data||{},sponsored:D.sponsored||!1,ZC:n,GH:I.card?g.GW(I.card):null,Rs:I.teaser?g.GW(I.teaser):null,LC:I.icon?g.GW(I.icon):
null,channelId:D.channel_id,customMessage:D.custom_message?D.custom_message:null,profileImageUrl:D.image_url,title:D.title,metaInfo:D.meta_info,url:O6({pause_on_navigation:D.pause_on_navigation,target:D.target||"new",value:D.url}),onClickCommand:null};QC(V,q);break;case "playlist":q={id:q.id,timestamp:D.timestamp||0,type:D.card_type,teaserText:D.teaser_text,teaserDurationMs:D.teaser_duration_ms,startMs:D.start_ms,autoOpen:D.auto_open||!1,sessionData:D.session_data||{},sponsored:D.sponsored||!1,ZC:n,
GH:I.card?g.GW(I.card):null,Rs:I.teaser?g.GW(I.teaser):null,LC:I.icon?g.GW(I.icon):null,yL:D.image_url,playlistVideoCount:D.playlist_video_count,customMessage:D.custom_message?D.custom_message:null,title:D.title,metaInfo:D.meta_info,url:O6({pause_on_navigation:D.pause_on_navigation,target:D.target||"new",value:D.url}),onClickCommand:null};QC(V,q);break;case "productListing":D.signin_url&&(Q=O6({target:"current",value:D.signin_url}));Y=[];for(var l=D.offers||[],h=0;h<l.length;h++)Y.push(new APN(g.Tw(l[h].merchant),
g.Tw(l[h].price)));q={id:q.id,timestamp:D.timestamp||0,type:D.card_type,teaserText:D.teaser_text,teaserDurationMs:D.teaser_duration_ms,startMs:D.start_ms,autoOpen:D.auto_open||!1,sessionData:D.session_data||{},sponsored:D.sponsored||!1,ZC:n,GH:I.card?g.GW(I.card):null,Rs:I.teaser?g.GW(I.teaser):null,LC:I.icon?g.GW(I.icon):null,imageUrl:D.image_url,displayDomain:D.display_domain?D.display_domain:null,showLinkIcon:!!D.show_link_icon,Rn:D.button_icon_url?D.button_icon_url:null,title:D.title,customMessage:D.custom_message?
D.custom_message:null,url:O6({pause_on_navigation:D.pause_on_navigation,target:D.target||"new",value:D.url}),qOD:Q,v2O:D.signin_title?D.signin_title:void 0,YOw:D.signin_message?D.signin_message:void 0,offers:Y,onClickCommand:null};QC(V,q);break;case "simple":q={id:q.id,timestamp:D.timestamp||0,type:D.card_type,teaserText:D.teaser_text,teaserDurationMs:D.teaser_duration_ms,startMs:D.start_ms,autoOpen:D.auto_open||!1,sessionData:D.session_data||{},sponsored:D.sponsored||!1,ZC:n,GH:I.card?g.GW(I.card):
null,Rs:I.teaser?g.GW(I.teaser):null,LC:I.icon?g.GW(I.icon):null,imageUrl:D.image_url,displayDomain:D.display_domain?D.display_domain:null,showLinkIcon:!!D.show_link_icon,Rn:D.button_icon_url?D.button_icon_url:null,title:D.title,customMessage:D.custom_message?D.custom_message:null,url:O6({pause_on_navigation:D.pause_on_navigation,target:D.target||"new",value:D.url}),onClickCommand:null};QC(V,q);break;case "video":q={id:q.id,timestamp:D.timestamp||0,type:D.card_type,teaserText:D.teaser_text,teaserDurationMs:D.teaser_duration_ms,
startMs:D.start_ms,autoOpen:D.auto_open||!1,sessionData:D.session_data||{},sponsored:D.sponsored||!1,ZC:n,GH:I.card?g.GW(I.card):null,Rs:I.teaser?g.GW(I.teaser):null,LC:I.icon?g.GW(I.icon):null,yL:D.image_url,videoDuration:D.video_duration||null,customMessage:D.custom_message?D.custom_message:null,title:D.title,metaInfo:D.meta_info,isLiveNow:!!D.is_live_now,url:O6({pause_on_navigation:D.pause_on_navigation,target:D.target||"new",value:D.url}),onClickCommand:null},QC(V,q)}}else jdO(k.Z,D);q=!0}}q&&
(I$(k.player),k.eT())},tQe=function(k,y){var q=!1;
k.Z||(k.Z=JP$(k),g.G(k,k.Z));for(var N=g.p(y.cards||[]),D=N.next();!D.done;D=N.next())D=D.value,D.cardRenderer&&(Xlb(k.Z,D.cardRenderer),q=!0);if(q){var n;(n=k.player.getVideoData())!=null&&g.Fs(n)||(q=k.Z,N=y.headerText?g.QX(y.headerText):"",g.ux(q.GL,N),q.J&&q.J.setAttribute("title",N),q.context.videoData.eventId&&(q.eventId=q.context.videoData.eventId),q.eb=y.trackingParams?g.GW(y.trackingParams):null,q.B=y.closeButton.infoCardIconRenderer.trackingParams?g.GW(y.closeButton.infoCardIconRenderer.trackingParams):
null,q.LC=y.icon.infoCardIconRenderer.trackingParams?g.GW(y.icon.infoCardIconRenderer.trackingParams):null,k.eT());I$(k.player)}},NC1=function(k,y,q,N,D){if(!k.player.S().cX){var n=[];
y.navigationEndpoint&&g.L(y.navigationEndpoint,g.EK)&&g.L(y.navigationEndpoint,g.EK).browseId&&n.push(new yPE("openUrl","click",new tq1("/channel/"+g.L(y.navigationEndpoint,g.EK).browseId,"new",!0,!0)));var T=y.watermark.thumbnails[0];N={channel_name:y.channelName,end_ms:y.endTimeMs,image_height:T.height,image_type:1,image_url:T.url,image_width:T.width,is_mobile:!1,session_data:{annotation_id:q,ei:D,feature:"iv",itct:y.trackingParams,src_vid:N},start_ms:y.startTimeMs};if(y.subscribeButton&&g.L(y.subscribeButton,
g.bE)){N.channel_id=g.L(y.subscribeButton,g.bE).channelId;var I;y=g.L(y.subscribeButton,g.bE);T=D=null;y.subscribed?(y.subscriberCountWithUnsubscribeText&&(D=g.QX(y.subscriberCountWithUnsubscribeText)),y.subscriberCountText&&(T=g.QX(y.subscriberCountText))):(y.subscriberCountText&&(D=g.QX(y.subscriberCountText)),y.subscriberCountWithSubscribeText&&(T=g.QX(y.subscriberCountWithSubscribeText)));var H,K=((H=g.L((I=y.signInEndpoint)==null?void 0:I.commandMetadata,g.y3))==null?void 0:H.url)||"";I={subscribeText:g.QX(y.unsubscribedButtonText),
subscribeCount:D||"",unsubscribeText:g.QX(y.subscribedButtonText),unsubscribeCount:T||"",enabled:y.enabled||!1,classic:!1,subscribed:y.subscribed||!1,feature:"iv",signInUrl:K};N.standalone_subscribe_button_data=I}n=new n2b(q,"branding","branding",n,N);I=o2E(k);k.N.element.appendChild(I);n=new LR(I,gM(k),n);n.Yq();g.G(n,n);k.Y[q]=n}},Zdx=function(k,y){return function(){var q=g.P6.apply(0,arguments);
k.VM()||k.ND.push(g.nD.OV(function(){y.apply(null,g.m(q))}))}},D3T=function(k){return k==="annotation-editor"||k==="live-dashboard"};
g.u4.prototype.t$=g.ND(35,function(k,y){var q=g.UA(this.zL());q&&q.t$(k,y)});
var KR={},Ap=null;g.lZ(uF,g.Ov);g.w=uF.prototype;g.w.getDuration=function(){return this.duration};
g.w.play=function(k){if(k||this.Z==0)this.progress=0,this.coords=this.N;else if(this.isPlaying())return!1;cy(this);this.startTime=k=g.Z7();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.V=this.startTime;this.progress||this.lQ();this.cS("play");this.isPaused()&&this.cS("resume");this.Z=1;var y=g.hG(this);y in KR||(KR[y]=this);CC$();E$$(this,k);return!0};
g.w.stop=function(k){cy(this);this.Z=0;k&&(this.progress=1);bcw(this,this.progress);this.onStop();this.mp()};
g.w.pause=function(){this.isPlaying()&&(cy(this),this.Z=-1,this.cS("pause"))};
g.w.gF=function(){this.Z==0||this.stop(!1);this.cS("destroy");uF.g9.gF.call(this)};
g.w.destroy=function(){this.dispose()};
g.w.AG=function(){this.cS("animate")};
g.w.cS=function(k){this.dispatchEvent(new Vq$(k,this))};
g.lZ(Vq$,g.gC);g.lZ(a$,uF);a$.prototype.C=function(){};
a$.prototype.AG=function(){this.C();a$.g9.AG.call(this)};
a$.prototype.mp=function(){this.C();a$.g9.mp.call(this)};
a$.prototype.lQ=function(){this.C();a$.g9.lQ.call(this)};
g.lZ(B2E,a$);B2E.prototype.C=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.z(Mq$,g.S);g.w=Mq$.prototype;g.w.listen=function(k,y,q,N){q=(0,g.RD)(q,N||this.N);k=g.Sl(k,y,q);this.Z.push(k);return k};
g.w.LI=function(k,y,q,N){q=(0,g.RD)(q,N||this.N);k=PCN(k,y,q);this.Z.push(k);return k};
g.w.HZ=function(k){g.GI(k);g.ZT(this.Z,k)};
g.w.removeAll=function(){g.GI(this.Z);this.Z.length=0};
g.w.gF=function(){this.removeAll();g.S.prototype.gF.call(this)};g.z(Sl$,g.pi);g.w=Sl$.prototype;g.w.load=function(){g.pi.prototype.load.call(this);if(!Xt(this)){var k=g.YZ7(this.player.getVideoData());k?(k=Ylb(k,G6N(this)),$s(this,k,!1)):LFG(this)}};
g.w.unload=function(){$s(this,null);this.V&&(this.V.abort(),this.V=null);g.pi.prototype.unload.call(this)};
g.w.aU=function(k,y){return Xt(this)?k==="loadCustomEndscreenRenderer"?(k=Ylb(y,"new"),$s(this,k),!0):null:null};
g.w.getOptions=function(){return Xt(this)?["loadCustomEndscreenRenderer"]:[]};
g.w.SH=function(){if(this.endscreen&&this.endscreen.elements){var k=this.player.getVideoContentRect();if(k&&k.width!==0&&k.height!==0){var y=this.player.getPlayerSize();if(y&&y.width!==0&&y.height!==0){var q=k.width/k.height;var N=0;for(var D=-1,n=0;n<nO$.length;n++){var T=Math.abs(y.width-nO$[n]);if(D===-1||N>=T)D=n,N=T}N=TCx[D];this.C&&g.fW(this.C.element,"outline-width",Math.max(y.width,y.height)+"px");for(y=0;y<this.endscreen.elements.length;++y)if(n=this.endscreen.elements[y].id,D=this.Z[n],
T=this.Y[n],D&&T){var I=T.width*q/T.aspectRatio,H=Math.round(T.width*k.width);n=Math.round(I*k.height);var K=k.left+Math.round(T.left*k.width),A=k.top+Math.round(T.top*k.height);g.Q$(D.element,H,n);g.b6(D.element,K,A);g.ie(D.element,wGT);H>256||n>256?g.pD(D.element,"ytp-ce-large-round"):H>96||n>96?g.pD(D.element,"ytp-ce-medium-round"):g.pD(D.element,"ytp-ce-small-round");g.ie(D.element,IDq);H=T.left+T.width/2;T=T.top+I/2;g.pD(D.element,H<=.5&&T<=.5?"ytp-ce-top-left-quad":H>.5&&T<=.5?"ytp-ce-top-right-quad":
H<=.5&&T>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.ie(D.element,TCx);g.pD(D.element,N);(D=g.tP(document,"div","ytp-ce-expanding-overlay-body",D.element)[0])&&g.fW(D,"height",n+"px")}}}}};
g.w.onCueRangeEnter=function(k){if(this.endscreen)if(k.getId()==="ytp-ce-in-endscreen")mr(this,this.endscreen.impressionUrls),(k=g.gg())&&this.endscreen.visualElement&&g.$l(k,this.endscreen.visualElement),this.N&&(g.pD(this.N,"ytp-ce-element-show"),this.N.removeAttribute("aria-hidden"));else{k=k.getId().substring(15);var y=this.Z[k],q=this.Y[k];g.pD(y.element,"ytp-ce-element-show");y.element.removeAttribute("aria-hidden");y=this.player.getRootNode();g.pD(y,"ytp-ce-shown");mr(this,q.impressionUrls);
(y=g.gg())&&g.$l(y,q.visualElement);this.player.S().B&&this.player.Sb("endscreenelementshown",k)}};
g.w.onCueRangeExit=function(k){if(k.getId()==="ytp-ce-in-endscreen")this.N&&(g.mW(this.N,"ytp-ce-element-show"),this.N.setAttribute("aria-hidden","true"));else{k=k.getId().substring(15);var y=this.Z[k];g.mW(y.element,"ytp-ce-element-show");y.element.setAttribute("aria-hidden","true");y=this.player.getRootNode();g.mW(y,"ytp-ce-shown");this.player.S().B&&this.player.Sb("endscreenelementhidden",k)}};
g.w.qeD=function(k){var y=this;k.target===window&&(new g.c3(function(){for(var q=g.p(Object.values(y.Z)),N=q.next();!N.done;N=q.next())g.ie(N.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.w.xz=function(k){for(var y=g.p(Object.values(this.Z)),q=y.next();!q.done;q=y.next())q=q.value,k?q.element.setAttribute("hidden",""):q.element.removeAttribute("hidden")};
g.w.ywS=function(k){this.N&&this.player.getRootNode().removeChild(this.N);k&&(g.pD(k,"ytp-ce-hide-button-container"),this.N=k,g.pa(this.player,this.N,4))};
var nO$=[346,426,470,506,570,640,853,1280,1920],TCx="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),IDq=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],wGT=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var kwb={x2T:"current",XfS:"new"};var qfw={CLOSE:"close",qnV:"openUrl",SUBSCRIBE:"subscribe"},NRT={O0V:"click",CLOSE:"close",MOD:"hidden",t3O:"rollOut",V3M:"rollOver",vbV:"shown"};n2b.prototype.YX=function(){var k=TR1(this,function(y){return y.type==="openUrl"&&y.url!=null});
return k?k.url:null};
var qLb={TST:"anchored",cT:"branding",CHANNEL:"channel",KGS:"cta",uzw:"highlightText",RJO:"label",PLAYLIST:"playlist",POPUP:"popup",Doj:"speech",SUBSCRIBE:"subscribe",xoS:"title",VIDEO:"video",qiw:"website"},yue={cT:"branding",jKx:"card",oiw:"drawer",yTj:"highlight",NVx:"marker",uTV:"promotion",TEXT:"text",cCS:"widget"};g.z(E6,g.S);g.w=E6.prototype;g.w.addCueRange=function(k,y,q,N,D){k=new g.rG(k,y,{id:q,namespace:"annotations_module"});N&&this.hV.set(k,N);D&&this.Dx.set(k,D);this.context.G.ZW([k],1)};
g.w.Yq=function(){this.context.N.subscribe("resize",this.oa,this)};
g.w.F4=function(){return this.element};
g.w.C3=function(k,y,q,N,D,n){if(this.MD)return!1;n&&(n.stopPropagation(),n.preventDefault());this.navigate(k,q,N,D);return!1};
g.w.show=function(){};
g.w.hide=function(){};
g.w.destroy=function(){g.Au(this.F4())};
g.w.oa=function(){};
g.w.navigate=function(k,y,q,N){var D=this,n=fR(k);if(n){var T=u6w(n,k.target),I=function(){k.Z&&D.context.G.pauseVideo();var H=D.context.videoData.Up||!1,K=g.zf(n||"");H&&K&&(K.v||K.list)?D.context.G.C6(K.v,y,K.list,!1):g.Hk(n||"",T==="current"?"_top":void 0,y)};
T==="new"&&(I(),I=null);dM(this.context.logger,q,I,N);cPF(n)||(q=g.gg(),N=y.itct,q&&N&&g.rq(q,g.GW(N)))}};
g.w.gF=function(){this.hV.clear();this.Dx.clear();g.S.prototype.gF.call(this)};
g.w.createElement=function(k){k=new g.R(k);g.G(this,k);return k.element};g.z(xIg,E6);g.w=xIg.prototype;g.w.nO=function(){this.ND&&QC(this,this.ND)};
g.w.isAvailable=function(){var k;if(k=!!this.cards.length)(k=this.G.getRootNode())?(k=g.MO(k),k=173<k.width&&173<k.height):k=!1;return k};
g.w.oa=function(){var k=this.isAvailable();g.FT(this.F4(),k);g.fD(this.context.G.getRootNode(),g.Dt.IV_DRAWER_ENABLED,k);I$(this.G)};
g.w.destroy=function(){this.G.t$(!1);try{this.G.getRootNode().removeChild(this.V)}catch(k){}g.PT(this.sT);g.R0(this.Wl);this.fS&&this.fS.dispose();this.j&&this.j.dispose();E6.prototype.destroy.call(this)};
g.w.Ld=function(){var k=this;this.context.Z.listen(g.kO("iv-drawer-close-button",this.V),"click",this.Ac,this);this.context.Z.listen(this.N,"touchend",function(){k.pS.start()});
this.context.Z.listen(this.N,"scroll",this.Pa,this);this.context.N.subscribe("onHideControls",function(){k.wF=!0});
this.context.N.subscribe("onShowControls",function(){k.wF=!1});
this.context.N.subscribe("onVideoAreaChange",function(){k.wF=g.zh(k.G.getRootNode(),"ytp-autohide")});
this.sT.push(g.OG("iv-button-shown",this.bSS,this));this.sT.push(g.OG("iv-button-hidden",this.QOw,this));mIF(this)};
g.w.findLastIndex=function(k){if(this.cards.length===0)return 0;var y=g.RL(this.cards,function(q){return k.PH.startMs>q.PH.startMs||k.PH.startMs===q.PH.startMs&&k.PH.timestamp>=q.PH.timestamp?!0:!1});
return y===-1?0:y+1};
g.w.Ac=function(){if(this.C){dM(this.context.logger,Sr(this).ZC.close);var k=g.gg();k&&this.B&&g.rq(k,this.B);U6(this)}};
g.w.Pa=function(){g.fD(this.V,"iv-drawer-scrolled",this.N.scrollTop>0)};
g.w.bSS=function(){var k=g.gg(),y=Sr(this);y=y?y.LC:this.LC;k&&y&&g.zU(k,[y])};
g.w.QOw=function(){var k=g.gg(),y=Sr(this);y=y?y.LC:this.LC;k&&y&&g.pr(k,[y])};
g.w.dg=function(){var k=Sr(this);dM(this.context.logger,k.ZC.TI);var y=g.gg();if(y&&k)if(this.G.W("web_infocards_teaser_show_logging_fix")){var q=[];k.Rs&&q.push(k.Rs);k.LC&&q.push(k.LC);q.length>0&&g.zU(y,q)}else g.zU(y,[k.Rs,k.LC])};
g.w.XlT=function(){var k=g.gg(),y=Sr(this);k&&y&&g.pr(k,[y.Rs])};
g.w.BT=function(k){var y=Sr(this),q=g.gg();this.Z?k?(k=this.context.logger,dM(k,y.ZC.Y1),k.G.sendVideoStatsEngageEvent(4,void 0),q&&y.Rs&&g.rq(q,y.Rs)):(k=this.context.logger,dM(k,y.ZC.Y1),k.G.sendVideoStatsEngageEvent(4,void 0),q&&y.LC&&g.rq(q,y.LC)):(k=this.context.logger,dM(k,y.ZC.Y1),k.G.sendVideoStatsEngageEvent(4,void 0),q&&this.LC&&g.rq(q,this.LC))};g.z(G4,E6);G4.prototype.Yq=function(){E6.prototype.Yq.call(this);E2B(this)};
G4.prototype.show=function(){E6.prototype.show.call(this);var k=g.gg(),y=this.annotation.data;k&&y&&(y=y.session_data)&&g.zU(k,[g.GW(y.itct)])};
G4.prototype.hide=function(){E6.prototype.hide.call(this);var k=g.gg(),y=this.annotation.data;k&&y&&(y=y.session_data)&&g.pr(k,[g.GW(y.itct)])};g.z(LR,G4);
LR.prototype.us=function(){g.pD(this.F4(),"iv-branding");var k=this.annotation.data;this.N=this.createElement({X:"img",jb:["branding-img","iv-click-target"],K:{"aria-label":"Channel watermark",src:k.image_url,width:k.image_width,height:k.image_height}});g.FT(this.N,!1);var y=this.createElement({X:"button",jb:["branding-img-container","ytp-button"]});y.appendChild(this.N);this.F4().appendChild(y);var q=this.annotation.YX();q&&bF(this,y,q,this.annotation.id,k.session_data);this.context.G.W("disable_branding_context")||UIg(this,
k)};
LR.prototype.show=function(){if(!this.isActive&&(G4.prototype.show.call(this),this.B||(this.us(),this.B=!0),g.FT(this.F4(),!0),this.isActive=!0,this.N)){try{bdE(this,this.N)}catch(k){}g.pD(this.context.G.getRootNode(),"ytp-branding-shown");this.context.G.getRootNode().style.setProperty("--branding-image-width",this.N.getAttribute("width")+"px")}};
LR.prototype.hide=function(){this.isActive&&(G4.prototype.hide.call(this),g.FT(this.F4(),!1),this.isActive=!1,g.mW(this.context.G.getRootNode(),"ytp-branding-shown"))};
LR.prototype.destroy=function(){this.Z&&(this.Z.dispose(),this.Z=null);g.mW(this.context.G.getRootNode(),"ytp-branding-shown");G4.prototype.destroy.call(this)};g.z(MQb,G4);g.w=MQb.prototype;
g.w.us=function(){var k=this,y=this.annotation.data;if(this.annotation.style==="cta")var q=6;else if(this.annotation.style==="video"||this.annotation.style==="playlist")q=7;this.Y=y.collapsedelay_ms||this.Y;var N=["iv-promo","iv-promo-inactive"];this.F4().setAttribute("aria-hidden","true");this.F4().setAttribute("aria-label","Promotion");this.F4().tabIndex=0;var D=this.annotation.YX(),n=y.image_url;if(n){var T=this.createElement({X:"div",jb:["iv-promo-img","iv-click-target"]});n=this.createElement({X:"img",
K:{src:n,"aria-hidden":"true"}});T.appendChild(n);y.video_duration&&!y.is_live?(n=this.createElement({X:"span",D:"iv-promo-video-duration",oO:y.video_duration}),T.appendChild(n)):y.playlist_length&&(n=this.createElement({X:"span",D:"iv-promo-playlist-length",oO:y.playlist_length.toString()}),T.appendChild(n));D&&bF(this,T,D,this.annotation.id,y.session_data,void 0,q)}D?(n=this.createElement({X:"a",D:"iv-promo-txt"}),g.d2(n,fR(D)),this.Z=n):this.Z=this.createElement({X:"div",D:"iv-promo-txt"});switch(this.annotation.style){case "cta":case "website":var I=
this.createElement({X:"p",L:[{X:"strong",oO:y.text_line_1}]});var H=this.createElement({X:"p",L:[{X:"span",D:"iv-promo-link",oO:y.text_line_2}]});if(n=y.text_line_3){N.push("iv-promo-website-card-cta-redesign");var K=this.createElement({X:"button",jb:["iv-promo-round-expand-icon","ytp-button"]});n=this.createElement({X:"button",jb:["iv-button","iv-promo-button"],L:[{X:"span",D:"iv-button-content",oO:n}]});var A=this.createElement({X:"div",D:"iv-promo-button-container"});A.appendChild(n);D&&bF(this,
this.F4(),D,this.annotation.id,y.session_data,void 0,q)}g.pD(this.Z,"iv-click-target");D&&bF(this,this.Z,D,this.annotation.id,y.session_data,void 0,q);break;case "playlist":case "video":I=this.createElement({X:"p",L:[{X:"span",oO:y.text_line_1}]}),H=this.createElement({X:"p",L:[{X:"strong",oO:y.text_line_2}]}),y.is_live&&(I=H,H=this.createElement({X:"span",jb:["yt-badge","iv-promo-badge-live"],oO:"LIVE NOW"})),g.pD(this.Z,"iv-click-target"),D&&bF(this,this.Z,D,this.annotation.id,y.session_data,void 0,
q),N.push("iv-promo-video")}I&&this.Z.appendChild(I);H&&this.Z.appendChild(H);this.B.appendChild(this.Z);A&&this.B.appendChild(A);q=this.createElement({X:"div",D:"iv-promo-actions"});this.N=this.createElement({X:"button",jb:["iv-promo-expand","ytp-button"]});this.N.title="Expand";this.context.Z.listen(this.N,"click",function(c){SfE(k,5E3,c)});
q.appendChild(this.N);g.FT(this.N,!1);this.context.Z.listen(this.F4(),"mouseover",this.kZ,this);this.context.Z.listen(this.F4(),"mouseout",this.wr,this);this.context.Z.listen(this.F4(),"touchend",function(c){SfE(k,5E3,c)});
this.C=this.createElement({X:"button",jb:["iv-promo-close","ytp-button"]});this.C.title="Close";this.context.Z.listen(this.C,"click",this.annotation.style==="cta"&&y.text_line_3?this.H8:this.Fq,this);q.appendChild(this.C);g.rj(this.F4(),N);T&&(g.IP(this.F4(),T),K&&T.appendChild(K));g.IP(this.F4(),this.B);g.IP(this.F4(),q)};
g.w.show=function(){this.isActive||(G4.prototype.show.call(this),this.U||(this.us(),this.U=!0),g.FT(this.F4(),!0),g.bG(function(){g.mW(this.F4(),"iv-promo-inactive")},100,this),this.F4().removeAttribute("aria-hidden"),this.isActive=!0,Lv$(this),FvO(this),Yfe(this,this.Y))};
g.w.hide=function(){this.isActive&&(g.pD(this.F4(),"iv-promo-inactive"),this.isActive=!1,this.F4().setAttribute("aria-hidden","true"))};
g.w.C3=function(k,y,q,N,D,n){return this.isCollapsed?!1:G4.prototype.C3.call(this,k,y,q,N,D,n)};
g.w.kZ=function(k){this.J=!0;SfE(this,500,k)};
g.w.wr=function(){this.J=!1;GwB(this)};
g.w.Fq=function(k){k.stopPropagation();this.hide()};
g.w.H8=function(k){k.stopPropagation();Lv$(this);this.isCollapsed=!0;g.pD(this.F4(),"iv-promo-collapsed-no-delay");this.j.start()};
g.w.destroy=function(){this.j.dispose();G4.prototype.destroy.call(this)};g.z(g2E,g.pi);g.w=g2E.prototype;g.w.aU=function(k,y){if(!D3T(this.player.S().playerStyle))return null;switch(k){case "loadCustomAnnotationsXml":return(k=g.BQ(y))&&Wvx(this,k),!0;case "removeCustomAnnotationById":return y&&this.Z&&(zvN(this.Z,y),I$(this.player)),!0}return null};
g.w.getOptions=function(){return D3T(this.player.S().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.w.H2=function(){var k=this.player.S(),y=this.player.getVideoData(),q=k.annotationsLoadPolicy||y.annotationsLoadPolicy;return g.W4(y)||this.player.isMutedByEmbedsMutedAutoplay()?!1:q===1&&!y.yI||k.wF.get(y.videoId)||g.YF(y)||g.SZ0(y)?!0:!1};
g.w.eT=function(){if(this.C){var k=this.player.KS().getVideoContentRect(!0);g.Q$(this.C.element,k.width,k.height);g.b6(this.C.element,k.left,k.top)}if(this.Z){var y=this.player.No();k=this.Z;y=y.width;g.fD(k.V,"iv-drawer-small",y<=426);g.fD(k.V,"iv-drawer-big",y>=1280)}};
g.w.DT=function(k){hvx(this,k.state);g.e(k.state,2)&&(this.xf()&&this.QG()&&this.player.getPresentingPlayerType()!==2&&this.VK(!1),this.t$(!1))};
g.w.load=function(){function k(T){var I=y.loadNumber;y.j=null;y.loaded&&y.loadNumber===I&&y.player.getVideoData().videoId===N&&(T=g.EP(T)&&T.responseXML?T.responseXML:null)&&(Wvx(y,T),g.pD(y.player.getRootNode(),"iv-module-loaded"))}
var y=this;g.pi.prototype.load.call(this);hvx(this,this.player.getPlayerStateObject());this.loadNumber++;var q=this.player.getVideoData(),N=q.videoId;g.Xv()&&(k=Zdx(this,k));var D={format:"XML",onFinish:k,onError:function(){y.j=null},
urlParams:{}};q.isPharma&&(D.urlParams.pharma="1");D.method="POST";D.withCredentials=!0;var n=this.player.S().wF.get(N);n&&l2E(D,n);n=n&&(n.iB||n.pu);if(!q.yf||n)q.hV?Rvg(this,q.hV,D):(this.B=function(){if(!y.J)y.onVideoDataChange(D);var T=y.player.getVideoData();(T==null?0:g.Fs(T))&&!y.sT&&k3x(y,T)},this.player.addEventListener("videodatachange",this.B));
g.pa(this.player,this.C.element,4);this.eT();(n=g.YF(q))&&tQe(this,n);(n=g.SZ0(q))&&n.featuredChannel&&NC1(this,n.featuredChannel,n.annotationId||"branding",q.videoId||null,q.eventId||null);this.CD=g.kO("ytp-cards-button",this.player.getRootNode());g.Fs(q)&&k3x(this,q)};
g.w.onVideoDataChange=function(k){var y=this.player.getVideoData();y.hV&&Rvg(this,y.hV,k)};
g.w.unload=function(){this.player.F7("annotations_module");for(var k=g.p(Object.keys(this.Y)),y=k.next();!y.done;y=k.next())this.Y[y.value].destroy();this.U=null;this.Z&&(this.Z.destroy(),this.Z=null,I$(this.player));this.J=!1;this.j&&(this.j.abort(),this.j=null);this.sT=!1;this.Y={};this.N.hide();g.pi.prototype.unload.call(this);this.C.detach();this.B&&(this.player.removeEventListener("videodatachange",this.B),this.B=null)};
g.w.cg=function(k){k===this.player.getVideoData().videoId&&(this.loaded?sde(this):this.load())};
g.w.xf=function(){var k;return((k=this.Z)==null?void 0:k.isAvailable())||this.sT};
g.w.QG=function(){return!!this.Z&&this.Z.C};
g.w.VK=function(k,y,q){y=y===void 0?!1:y;this.xf();this.Z&&(k?q?By(this.Z,q,y):By(this.Z,"YOUTUBE_DRAWER_AUTO_OPEN",y):U6(this.Z))};
g.w.t$=function(k,y){this.player.publish(k?"cardsteasershow":"cardsteaserhide",y)};
g.w.gF=function(){this.player.S().wF.unsubscribe("vast_info_card_add",this.cg,this);g.mW(this.player.getRootNode(),g.Dt.IV_DRAWER_OPEN);for(var k=this.ND,y=g.nD,q=0,N=k.length;q<N;q++)y.yF(k[q]);this.ND.length=0;g.pi.prototype.gF.call(this)};
g.w.createElement=function(k){k=new g.R(k);g.G(this,k);return k.element};g.zg("annotations_module",g2E);g.zg("creatorendscreen",Sl$);})(_yt_player);
